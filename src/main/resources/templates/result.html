<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<html lang="en">
<head>

    <!-- /.website title -->
    <title>Melkie - Find Authentic Food Like Home</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">

    <!-- CSS Files -->
    <link href="/css/bootstrap.css" rel="stylesheet" media="screen">
    <link href="/css/font-awesome.min.css" rel="stylesheet">
    <link href="/fonts/icon-7-stroke/css/pe-icon-7-stroke.css" rel="stylesheet">
    <link href="/css/animate.css" rel="stylesheet" media="screen">
    <link href="/css/owl.theme.css" rel="stylesheet">
    <link href="/css/owl.carousel.css" rel="stylesheet">
    <link href="/css/my.css" rel="stylesheet">

    <!-- /.javascript files -->

    <script src="/js/jquery.js"></script>
    <script src="/js/bootstrap.min.js"></script>
    <!--<script src="/js/custom.js"></script>-->
    <script src="/js/jquery.sticky.js"></script>
    <script src="/js/wow.min.js"></script>
    <script src="/js/owl.carousel.min.js"></script>

    <script>
        new WOW().init();
    </script>

    <!-- Colors -->
    <link href="/css/css-index.css" rel="stylesheet" media="screen">

    <!-- Google Fonts -->
    <link rel="stylesheet"
          href="http://fonts.googleapis.com/css?family=Lato:100,300,400,700,900,100italic,300italic,400italic,700italic,900italic"/>
</head>

<body data-spy="scroll" data-target="#navbar-scroll">

<!-- /.preloader -->
<!--<div id="preloader"></div>-->
<div id="top"></div>

<!-- NAVIGATION -->
<div id="menu">
    <nav class="navbar-wrapper navbar-default" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-backyard">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <h2>
                    <span th:text="${currentCountry.country_name} + '/'">country_name</span>
                    <span th:text="${currentTaste.taste_name}">taste_name</span>
                </h2>
            </div>

            <div id="navbar-scroll" class="collapse navbar-collapse navbar-backyard navbar-right">
                <ul class="nav navbar-nav">
                    <li><a href="/">Home</a></li>
                    <li><a href="/culture_and_tips" style="color:orange">Explore Foreign Culture and Tips</a></li>
                </ul>
            </div>
        </div>
    </nav>
</div>
<div class="fullscreen landing parallax" style="background-image:url('/images/brooke-lark-230140.jpg');"
     data-img-width="2000" data-img-height="1333" data-diff="100">
    <div class="overlay">

        <!-- /.main section -->
        <div>
            <ul class="nav nav-tabs nav-justified">
                <li class="active"><a data-toggle="tab" href="#EatOutside">Eat out</a></li>
                <li><a data-toggle="tab" href="#CookAtHome">Stay in</a></li>
            </ul>
        </div>

        <div class="tab-content">
            <div id="EatOutside" class="tab-pane fade in active">
                <!-- /.parallax full screen background image -->
                <div class="fullscreen landing parallax" style="background-image:url('/images/brooke-lark-230140.jpg');"
                     data-img-width="2000" data-img-height="1333" data-diff="100">
                    <div class="overlay">

                        <!-- Add Google Map -->
                        <!--<div id="googleMap" style="height:300px;width:100%;"></div>-->
                        <!--<script>-->
                        <!--function myMap() {-->
                        <!--var myCenter = new google.maps.LatLng(-37.8770, 145.0443);-->
                        <!--var mapProp = {-->
                        <!--center: myCenter,-->
                        <!--zoom: 12,-->
                        <!--scrollwheel: false,-->
                        <!--draggable: true,-->
                        <!--mapTypeId: google.maps.MapTypeId.ROADMAP-->
                        <!--};-->
                        <!--var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);-->
                        <!--var marker = new google.maps.Marker({position: myCenter});-->
                        <!--marker.setMap(map);-->
                        <!--}-->
                        <!--</script>-->
                        <!--<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBkJppdWRHQbcAPUfFN7Zva6tslZk5qyX4&callback=myMap"></script>-->

                        <iframe th:src="@{'https://www.google.com/maps/embed/v1/place?key=AIzaSyAABKsQey-XPjwR-wtUdWPtf7VqS-MXS7k&q=place_id:' + ${currentRestaurant.restaurant_placeID}}"
                                width="100%" height="300" frameborder="0" allowfullscreen></iframe>

                        <script th:inline="javascript">
                            function likeButtonClicked() {
                                var id = event.target.id;

                                alert("Thanks for your like!");

                                var value = parseInt(document.getElementById(id).getAttribute("text"), 10);
                                value = isNaN(value) ? 0 : value;
                                value++;
                                document.getElementById(id).setAttribute("text", value.toString());
                                alert("Thanks for your like!" + parseInt(document.getElementById(id).getAttribute("text"));
                            }
                        </script>

                        <div id="detailView" class="container">
                            <div class="row">
                                <div class="col-md-6 col-sm-6">
                                    <div class="row">
                                        <div class="panel panel-default">
                                            <div class="panel-heading list-heading">
                                                <div style="font-size: xx-large">
                                                    <strong>Monthly User Ranking</strong>
                                                </div>
                                                <span></span>
                                            </div>

                                            <table class="table">
                                                <thead>
                                                <tr>
                                                    <th class="col-xs-6">Name</th>
                                                    <th class="col-xs-3">Category</th>
                                                    <th class="col-xs-3">Likes</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <th:block th:each="restaurant,itrStat : ${restaurantList}">
                                                    <tr class="body-text">
                                                        <td class="col-xs-2"><a
                                                                th:text="${restaurant.restaurant_name}"
                                                                th:href="@{'/result/' + ${currentTaste.taste_id} + '/' + ${itrStat.index} + '/0'}">rest_name</a>
                                                        </td>
                                                        <td class="col-xs-8"><span th:text="${currentTaste.taste_name}">taste_name</span>
                                                        </td>
                                                        <td class="col-xs-2"><span
                                                                th:text="${restaurant.likes}">rest_likes</span><i
                                                                onclick="likeButtonClicked(this)"
                                                                class="fa fa-thumbs-up like-button"
                                                                th:id="'thumbsUpButton' + ${itrStat.index}"></i>
                                                        </td>
                                                    </tr>
                                                </th:block>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-1 col-sm-1">
                                </div>
                                <div class="col-md-5 col-sm-5">
                                    <div class="card" style="color: #FFFFFF">
                                        <div class="card-block">
                                            <div>
                                                <h2 class="card-title detail-restaurant-name"
                                                    th:text="${currentRestaurant.restaurant_name}">Restaurant_Name</h2>
                                            </div>
                                        </div>
                                        <!--<div class="row">-->
                                        <!--<div class="col-md-12 col-sm-12">-->
                                        <!--<div id="Carousel" class="carousel slide">-->

                                        <!--<ol class="carousel-indicators" style="padding-top: -20px">-->
                                        <!--<li data-target="#Carousel" data-slide-to="0"-->
                                        <!--class="active"></li>-->
                                        <!--<li data-target="#Carousel" data-slide-to="1"></li>-->
                                        <!--</ol>-->

                                        <!--&lt;!&ndash; Carousel items &ndash;&gt;-->
                                        <!--<div class="carousel-inner">-->

                                        <!--<div class="item active">-->
                                        <!--<div class="row">-->
                                        <!--<div class="col-md-4"><a href="#" class="thumbnail"><img-->
                                        <!--src="images/Cha_Siu_Bao.jpg" alt="Image"></a>-->
                                        <!--</div>-->
                                        <!--<div class="col-md-4"><a href="#" class="thumbnail"><img-->
                                        <!--src="images/Roast%20goose.jpg" alt="Image"></a>-->
                                        <!--</div>-->
                                        <!--<div class="col-md-4"><a href="#" class="thumbnail"-->
                                        <!--style="width: 115px;"><img-->
                                        <!--src="images/Beef%20Chow%20Fun%20.jpg"-->
                                        <!--alt="Image"></a>-->
                                        <!--</div>-->
                                        <!--</div>&lt;!&ndash;.row&ndash;&gt;-->
                                        <!--</div>&lt;!&ndash;.item&ndash;&gt;-->

                                        <!--<div class="item">-->
                                        <!--<div class="row">-->
                                        <!--<div class="col-md-4"><a href="#" class="thumbnail"><img-->
                                        <!--src="images/Cha_Siu_Bao.jpg" alt="Image"></a>-->
                                        <!--</div>-->
                                        <!--<div class="col-md-4"><a href="#" class="thumbnail"><img-->
                                        <!--src="images/Roast%20goose.jpg" alt="Image"></a>-->
                                        <!--</div>-->
                                        <!--<div class="col-md-4"><a href="#" class="thumbnail"-->
                                        <!--style="width: 115px;"><img-->
                                        <!--src="images/Beef%20Chow%20Fun%20.jpg"-->
                                        <!--alt="Image"></a>-->
                                        <!--</div>-->
                                        <!--</div>&lt;!&ndash;.row&ndash;&gt;-->
                                        <!--</div>&lt;!&ndash;.item&ndash;&gt;-->

                                        <!--</div>&lt;!&ndash;.carousel-inner&ndash;&gt;-->
                                        <!--&lt;!&ndash;<a data-slide="prev" href="#Carousel" class="left carousel-control"><</a>&ndash;&gt;-->
                                        <!--&lt;!&ndash;<a data-slide="next" href="#Carousel" class="right carousel-control">></a>&ndash;&gt;-->
                                        <!--</div>&lt;!&ndash;.Carousel&ndash;&gt;-->
                                        <!--</div>-->
                                        <!--</div>-->

                                        <div class="card-block">
                                            <div class="row">
                                                <div>
                                                    <i class="fa fa-location-arrow detail-icons"></i>
                                                    <span class="card-subtitle detail-address"
                                                          th:text="${currentRestaurant.restaurant_address}">Restaurant_Address</span>
                                                </div>
                                            </div>
                                            <div class="row" style="padding-top: 15px">
                                                <i class="fa fa-star detail-icons" aria-hidden="true"></i>
                                                <span class="card-text"> Google Rating: </span>
                                                <span class="card-text download-text"
                                                      th:text="${currentRestaurant.restaurant_googleRating}">Restaurant_Rating</span>
                                            </div>

                                            <div class="row" style="padding-top: 15px">
                                                <i class="fa fa-phone-square detail-icons"></i>
                                                <span class="card-text"> Phone Number: </span>
                                                <span th:text="${currentRestaurant.phoneNumber}">Restaurant_Phone_Number</span>
                                            </div>

                                            <div class="row" style="padding-top: 15px">
                                                <i class="fa fa-cutlery detail-icons" aria-hidden="true"></i>
                                                <span class="card-text"> Seats Available: </span>
                                                <!--<span th:if="${currentRestaurant.restaurant_seats == null}">-->
                                                    <!--<span>No Seats Data Availale</span>-->
                                                <!--</span>-->
                                                <!--<span th:text="${someObject.someProperty != null} ? ${someObject.someProperty} : 'null value!'">someValue</span>-->

                                                <!--<span th:if="${currentRestaurant.restaurant_seats != null}">-->

                                                    <!--restaurant seats will be -1 if the value is not available-->
                                                    <span th:text="${currentRestaurant.restaurant_seats != -1} ? ${currentRestaurant.restaurant_seats} : 'not available'">Restaurant_Seats</span>
                                                <!--</span>-->
                                            </div>

                                            <div class="row" style="padding-top: 15px">
                                                <i class="fa fa-thumbs-up detail-icons" aria-hidden="true"></i>
                                                <span class="card-text"> Likes in Melkie: </span>
                                                <span th:text="${currentRestaurant.likes}">Restaurant_Likes</span>
                                            </div>

                                            <div class="row" style="padding-top: 15px">
                                                <i class="fa fa-external-link detail-icons"></i>
                                                <span><a th:href="${currentRestaurant.websiteLink}"
                                                         class="card-link">Restaurant Website Link</a></span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div id="CookAtHome" class="tab-pane fade">
                <div id="recipeView" class="container">

                    <div class="row">
                        <div class="col-sm-9 col-md-9">
                            <div class="card h-70" style="color: #FFFFFF">
                                <div class="card-top">
                                    <!--<ul>-->
                                        <!--<li th:each="recipe : ${recipeList}">-->
                                            <!--<span><img th:src="${recipe.image_url}"></span>-->
                                        <!--</li>-->
                                    <!--</ul>-->

                                    <div class="row" style="padding-top: 20px">
                                        <div class="col-md-2">
                                            <div class="thumbnail" style="width: 120px; height: 120px">
                                                <a th:href="@{'/result/' + ${currentTaste.taste_id} + '/0'  + '/0'}">
                                                    <img th:src="${recipeList.get(0).image_url}" alt="Image"
                                                         height="120px" width="120px">
                                                </a>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="thumbnail" style="width: 120px; height: 120px">
                                                <a th:href="@{'/result/' + ${currentTaste.taste_id} + '/0'  + '/1'}">
                                                    <img th:src="${recipeList.get(1).image_url}" alt="Image"
                                                         height="120px" width="120px">
                                                </a>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="thumbnail" style="width: 120px; height: 120px">
                                                <a th:href="@{'/result/' + ${currentTaste.taste_id} + '/0'  + '/2'}">
                                                    <img th:src="${recipeList.get(2).image_url}" alt="Image"
                                                         height="120px" width="120px">
                                                </a>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="thumbnail" style="width: 120px; height: 120px">
                                                <a th:href="@{'/result/' + ${currentTaste.taste_id} + '/0'  + '/3'}">
                                                    <img th:src="${recipeList.get(3).image_url}" alt="Image"
                                                         height="120px" width="120px">
                                                </a>
                                            </div>
                                        </div>
                                        <div class="col-md-2">
                                            <div class="thumbnail" style="width: 120px; height: 120px">
                                                <a th:href="@{'/result/' + ${currentTaste.taste_id} + '/0'  + '/4'}">
                                                    <img th:src="${recipeList.get(4).image_url}" alt="Image"
                                                         height="120px" width="120px">
                                                </a>
                                            </div>
                                        </div>
                                    </div><!--.row-->
                                </div>

                                <div class="card-body">
                                    <div class="card-head">
                                        <div class="row">
                                            <span class="recipe-header" th:text="${currentRecipe.recipe_name}">recipe_name</span>
                                            <span style="alignment:right">
                                                    Recipe search powered by
                                                <a href='http://www.yummly.co/recipes'>
                                                    <img alt='Yummly' src='https://static.yummly.co/api-logo.png'/>
                                                </a>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="card-block">
                                        <div class="row" style="padding-top: 20px">
                                            <i class="fa fa-clock-o attribute-text" aria-hidden="true"></i>
                                            <span class="attribute-text">Total Cooking time:
                                                <span th:text="${currentRecipe.total_time_in_seconds}"></span>
                                            </span>
                                        </div>

                                        <div class="row" style="padding-top: 15px">
                                            <i class="fa fa-smile-o attribute-text" aria-hidden="true"></i>
                                            <span class="attribute-text">Yummly Rating:
                                                <span th:text="${currentRecipe.recipe_yummly_rating}"></span>
                                            </span>
                                        </div>
                                    </div>

                                    <div class="row" style="padding-top: 20px">
                                        <form th:action="${currentRecipe.direction_link}">
                                            <button class="btn btn-warning btn-block btn-lg" style="align-self: center"
                                                    type="submit">Get Recipe Direction
                                            </button>
                                        </form>
                                    </div>

                                    <div class="row" style="padding-top: 20px; padding-bottom: 20px">
                                        <div id="mapCanvas" style="width: 100%; height: 300px; color: #FFFFFF"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-3 col-md-3" style="padding-top: 20px">
                            <div class="panel panel-success">
                                <div class="panel-heading">Ingredients</div>
                                <div class="panel-body">
                                    <ul>
                                        <li th:each="ingredient : ${currentRecipe.ingredients}">
                                            <input id="checkBox" type="checkbox">
                                            <span th:text="${ingredient}"></span>
                                        </li>
                                    </ul>

                                    <div id="mapTips" class="alert alert-info">
                                        <strong>Tips:</strong>
                                        <br/>Out of stock? Check out the groceries map.
                                        <br/><strong>Click the full screen button on top right of the map to get a
                                        better view</strong>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>


                    <!-- Add Google Map -->
                    <!--<div id="googleMap" style="height:300px;width:100%;"></div>-->
                    <!--<script>-->
                    <!--function myMap() {-->
                    <!--var myCenter = new google.maps.LatLng(-37.8770, 145.0443);-->
                    <!--var mapProp = {-->
                    <!--center: myCenter,-->
                    <!--zoom: 12,-->
                    <!--scrollwheel: false,-->
                    <!--draggable: true,-->
                    <!--mapTypeId: google.maps.MapTypeId.ROADMAP-->
                    <!--};-->
                    <!--var map = new google.maps.Map(document.getElementById("googleMap"), mapProp);-->
                    <!--var marker = new google.maps.Marker({position: myCenter});-->
                    <!--marker.setMap(map);-->
                    <!--}-->
                    <!--</script>-->
                    <!--<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBkJppdWRHQbcAPUfFN7Zva6tslZk5qyX4&callback=myMap"></script>-->
                    <!--<iframe id="googleMap"-->
                    <!--src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3152.135568621238!2d144.96099541535602!3d-37.81029344161797!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x6ad642cae2a646d1%3A0xd390b204eb6d7833!2sCentral+Grocery!5e0!3m2!1sen!2shk!4v1505806790661"-->
                    <!--width="100%" height="300" frameborder="0" style="border:0" allowfullscreen></iframe>-->


                    <script th:inline="javascript">
                        function initMap() {
                            var map;
                            var bounds = new google.maps.LatLngBounds();
                            var mapOptions = {
                                mapTypeId: 'roadmap'
                            };

                            //get value from thymeleaf
                            var markers = [[${markers}]];

                            // Display a map on the web page
                            map = new google.maps.Map(document.getElementById("mapCanvas"), mapOptions);
                            map.setTilt(50);

                            // Add multiple markers to map
                            var infoWindow = new google.maps.InfoWindow(), marker, i;

                            // Place each marker on the map
                            for (i = 0; i < markers.length; i++) {
                                var position = new google.maps.LatLng(markers[i][1], markers[i][2]);
                                bounds.extend(position);
                                marker = new google.maps.Marker({
                                    position: position,
                                    map: map,
                                    label: markers[i][0]
                                });

                                // Add info window to marker
                                google.maps.event.addListener(marker, 'click', (function (marker, i) {
                                    return function () {
                                        infoWindow.setContent(markers[i][0]);
                                        infoWindow.open(map, marker);
                                    }
                                })(marker, i));

                                // Center the map to fit all markers on the screen
                                map.fitBounds(bounds);
                            }

                            // Set zoom level
                            var boundsListener = google.maps.event.addListener((map), 'bounds_changed', function (event) {
                                this.setZoom(14);
                                google.maps.event.removeListener(boundsListener);
                            });

                        }

                        // Load initialize function
                        google.maps.event.addDomListener(window, 'load', initMap);
                    </script>

                    <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyBTicqriCSJBodECDaaSdlPgbj1W76zskI&callback=initMap"></script>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- /.footer -->
<footer id="footer">
    <div class="container">
        <div class="col-sm-4 col-sm-offset-4">
            <!-- /.social links -->
            <div class="social text-center">
                <ul>
                    <li><a class="wow fadeInUp" href="https://twitter.com/"><i class="fa fa-twitter"></i></a>
                    </li>
                    <li><a class="wow fadeInUp" href="https://www.facebook.com/" data-wow-delay="0.2s"><i
                            class="fa fa-facebook"></i></a></li>
                    <li><a class="wow fadeInUp" href="https://plus.google.com/" data-wow-delay="0.4s"><i
                            class="fa fa-google-plus"></i></a></li>
                    <li><a class="wow fadeInUp" href="https://instagram.com/" data-wow-delay="0.6s"><i
                            class="fa fa-instagram"></i></a></li>
                </ul>
            </div>
            <div class="text-center wow fadeInUp" style="font-size: 14px;">Copyright Team Supreme 2017</div>
            <a href="#" class="scrollToTop"><i class="pe-7s-up-arrow pe-va"></i></a>
        </div>
    </div>
</footer>
</body>
</html>